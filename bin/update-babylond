#!/usr/bin/env bash

gh_repo="babylonlabs-io/babylon"
binary_name="babylond"
install_path="$HOME/local"

latest_tag="$(curl -s "https://api.github.com/repos/$gh_repo/releases/latest" | jq -r .tag_name)"
released_binary_name="babylon-${latest_tag:1}-linux-amd64"

echo "Downloading $binary_name@$latest_tag"

wget -q --show-progress -P "$install_path" "https://github.com/$gh_repo/releases/latest/download/$released_binary_name"

chmod +x "$install_path/$released_binary_name"
mv "$install_path/$released_binary_name" "$install_path/$binary_name"

echo "Installed"
